\usepackage{amssymb,amsfonts,amsthm} % For better support of math
\usepackage{graphicx}    % Enable for eps and pdf figures, if they occur
%\usepackage{geometry} 
%\usepackage{hyperref}   % Enable embedded hyperlinks.
%\usepackage[linesnumbered,ruled,vlined]{algorithm2e} % Algorithm package
\usepackage{verbatim}   % Printing strings as is
\usepackage{mathtools}  % for correct NORM formatting
\usepackage{float}      % for H directive
\usepackage[table]{xcolor}
\usepackage{bm}         % boldface math symbols

\usepackage{enumitem}   % for easily changing labels in enumerate env
\setlist{itemsep=0.5em}   % vertical item separation
\setlist[enumerate,1]{label=(\alph*)}

% Adjust equation numbering to reflect section. amsmath
% \numberwithin{equation}{section}

% For including code files
\usepackage{listings}
\lstset
{
    language=C,
    basicstyle=\footnotesize\ttfamily,
    numbers=left,
    stepnumber=1,
    showstringspaces=false,
    tabsize=4,
    breaklines=true,
    breakatwhitespace=true,
    escapeinside={\%(*}{*)}
}

\newcommand{\secref}[1]{\S\ref{sec:#1}} % section reference with symbol

%%%%%%%%%%%%%%%%
% ENVIRONMENTS %
%%%%%%%%%%%%%%%%

\theoremstyle{plain} % bf title. italic text, space above and below
\newtheorem{theorem}{Theorem}[section]   % num. subordinate to section
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma} % num. on level with theorem

\theoremstyle{definition}          % bf title. normal text, space above and below
\newtheorem{definition}[theorem]{Definition}
\newtheorem*{definition*}{Definition}
\newtheorem*{claim}{Claim}
\newtheorem{problem}{Problem}[section]    % reset problem counter every section
\renewcommand{\theproblem}{\arabic{problem}} % counter doesn't include section num.

\theoremstyle{remark}          % it title. normal text.
\newtheorem*{remark}{Remark}
\newtheorem{example}[theorem]{Example}
\newtheorem*{solution}{Solution} % * removes numbering
\renewcommand{\theequation}{\arabic{equation}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% MATH SYMBOLS AND OPERATORS %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\C}{\mathbb C}  % complex
\newcommand{\R}{\mathbb R}  % reals
\newcommand{\Z}{\mathbb Z}  % integers
\newcommand{\Q}{\mathbb Q}  % rationals
\newcommand{\N}{\mathcal N} % normal distribution
\newcommand{\D}{\mathcal D} % dataset

% Operators
% for paired-delimiters:
% 	- standard brackets: \norm{arg}
% 	- scaled brackets  : \norm*{arg}
% 	- manually scaled  : \norm[\big]{arg} etc.
\DeclarePairedDelimiterX{\norm}[1]{\lVert}{\rVert}{#1} 
\DeclarePairedDelimiterX{\abs}[1]{\lvert}{\rvert}{#1}
\DeclarePairedDelimiterX{\ip}[2]{\langle}{\rangle}{#1, #2}
\DeclarePairedDelimiterX{\pfrac}[2]{(}{)}{\frac{#1}{#2}}
\DeclareMathOperator{\sign}{sign}
\DeclareMathOperator*{\argmin}{arg\,min\,} % the * places underscore arg below
\DeclareMathOperator*{\argmax}{arg\,max\,}
\DeclareMathOperator*{\minimize}{\mathrm{minimize}\,}
\DeclareMathOperator*{\maximize}{\mathrm{maximize}\,}
\DeclareMathOperator{\st}{\mathrm{s.t.}\,}
\DeclareMathOperator{\ST}{\mathrm{ST}}
\DeclareMathOperator{\subto}{\text{subject to}\,}
\DeclareMathOperator{\relu}{relu}
\DeclareMathOperator{\sinc}{sinc}
\DeclareMathOperator{\prox}{\mathbf{prox}} % proximal operator
\DeclareMathOperator{\supp}{\mathrm{supp}} % support
\DeclareMathOperator{\dom}{\mathbf{dom}} % domain
\DeclareMathOperator{\bd}{\mathbf{bd}} % boundary of a set
\DeclareMathOperator{\epi}{\mathbf{epi}} % epigraph
\DeclareMathOperator{\tr}{\mathbf{tr}} % trace
\DeclareMathOperator{\rank}{\mathbf{rank}} % rank
\DeclareMathOperator{\diag}{\mathbf{diag}} % diagonal
%\DeclareMathOperator{\conv}{\mathbf{conv}} % convex hull
\DeclareMathOperator{\Var}{\mathrm{Var}} % variance
\DeclareMathOperator{\Cov}{\mathrm{Cov}} % variance
\DeclareMathOperator{\E}{\mathbb{E}}     % expectation (expected value)
\newcommand{\pderiv}[2]{\frac{\partial #1}{\partial #2}} % partial derivative
\newcommand{\deriv}[2]{\frac{d #1}{d #2}} % ordinary derivative

\let\vec\undefined
\DeclareMathOperator{\vec}{\mathbf{vec}} % vectorization (flattening)
\DeclareMathOperator{\eig}{\mathrm{eig}} % eigen-values

\newcommand{\x}{\bm{x}}
\newcommand{\y}{\bm{y}}
\newcommand{\z}{\bm{z}}

% For changing the date location in document class amsart
\usepackage{etoolbox}
\makeatletter
\patchcmd{\@maketitle}
	{\ifx\@empty\@dedicatory}
	{\ifx\@empty\@date \else {\vskip1ex \centering\footnotesize\@date\par\vskip1ex}\fi
	\ifx\@empty\@dedicatory}
	{}{}
\patchcmd{\@adminfootnotes}
	{\ifx\@empty\@date\else \@footnotetext{\@setdate}\fi}
	{}{}{}
\makeatother

